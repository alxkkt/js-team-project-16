{"version":3,"sources":["scripts/modal-plugin.js","scripts/modal.js"],"names":["Modal","constructor","selector","backdrop","refs","getRefs","container","document","querySelector","closeButton","createModal","addEventListener","openModal","bind","closeModal","onBackdropClick","e","preventDefault","target","window","onEscPress","body","classList","add","remove","removeEventListener","code","cardModal","footerModal"],"mappings":";AAAmB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAZ,MAAMA,EACXC,YAAYC,EAAW,GAAIC,EAAW,IAC/BC,KAAAA,KAAO,KAAKC,QAAQH,EAAUC,GAErCE,QAAQH,EAAUC,GACVC,MAAAA,EAAO,GAKNA,OAJPA,EAAKE,UAAYC,SAASC,cAAcN,GACxCE,EAAKD,SAAWI,SAASC,cAAcL,GACvCC,EAAKK,YAAcL,EAAKD,SAASK,cAAc,sBAExCJ,EAETM,cACON,KAAAA,KAAKE,UAAUK,iBAAiB,QAAS,KAAKC,UAAUC,KAAK,OAE7DT,KAAAA,KAAKK,YAAYE,iBAAiB,QAAS,KAAKG,WAAWD,KAAK,OAEhET,KAAAA,KAAKD,SAASQ,iBAAiB,QAAS,KAAKI,gBAAgBF,KAAK,OAEzED,UAAUI,GACRA,EAAEC,iBAEED,EAAEE,SAAW,KAAKd,KAAKE,YAE3Ba,OAAOR,iBAAiB,UAAW,KAAKS,WAAWP,KAAK,OACxDN,SAASc,KAAKC,UAAUC,IAAI,qBACvBnB,KAAAA,KAAKD,SAASmB,UAAUE,OAAO,oBAEtCV,aACEK,OAAOM,oBAAoB,UAAW,KAAKL,WAAWP,KAAK,OACtDT,KAAAA,KAAKD,SAASmB,UAAUC,IAAI,mBACjChB,SAASc,KAAKC,UAAUE,OAAO,qBAEjCT,gBAAgBC,GACdA,EAAEE,SAAW,KAAKd,KAAKD,UAAY,KAAKW,aAE1CM,WAAWJ,GACM,WAAXA,EAAEU,MACCZ,KAAAA,cAtCQ,QAAA,MAAA;;ACKnB,aALA,IAAA,EAAA,QAAA,kBAEA,MAAMa,EAAY,IAAI3B,EAAJ,MAAU,WAAY,qBACxC2B,EAAUjB,cACV,MAAMkB,EAAc,IAAI5B,EAAJ,MAAU,0BAA2B,uBACzD4B,EAAYlB","file":"modal.16565fae.js","sourceRoot":"../src","sourcesContent":["export class Modal {\n  constructor(selector = {}, backdrop = {}) {\n    this.refs = this.getRefs(selector, backdrop);\n  }\n  getRefs(selector, backdrop) {\n    const refs = {};\n    refs.container = document.querySelector(selector);\n    refs.backdrop = document.querySelector(backdrop);\n    refs.closeButton = refs.backdrop.querySelector('[data-modal-close]');\n\n    return refs;\n  }\n  createModal() {\n    this.refs.container.addEventListener('click', this.openModal.bind(this));\n\n    this.refs.closeButton.addEventListener('click', this.closeModal.bind(this));\n\n    this.refs.backdrop.addEventListener('click', this.onBackdropClick.bind(this));\n  }\n  openModal(e) {\n    e.preventDefault();\n\n    if (e.target === this.refs.container) return;\n\n    window.addEventListener('keydown', this.onEscPress.bind(this));\n    document.body.classList.add('footer-modal-open');\n    this.refs.backdrop.classList.remove('visually-hidden');\n  }\n  closeModal() {\n    window.removeEventListener('keydown', this.onEscPress.bind(this));\n    this.refs.backdrop.classList.add('visually-hidden');\n    document.body.classList.remove('footer-modal-open');\n  }\n  onBackdropClick(e) {\n    e.target === this.refs.backdrop && this.closeModal();\n  }\n  onEscPress(e) {\n    if (e.code === 'Escape') {\n      this.closeModal();\n    }\n  }\n}\n","import { Modal } from './modal-plugin';\n\nconst cardModal = new Modal('.gallery', '[data-card-modal]');\ncardModal.createModal();\nconst footerModal = new Modal('.footer-modal-container', '[data-footer-modal]');\nfooterModal.createModal();\n"]}