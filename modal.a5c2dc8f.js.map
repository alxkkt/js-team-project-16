{"version":3,"sources":["scripts/modal-plugin.js","scripts/modal.js"],"names":["Modal","constructor","selector","backdrop","refs","getRefs","container","document","querySelector","closeButton","createModal","addEventListener","openModal","bind","closeModal","onBackdropClick","e","preventDefault","console","log","target","window","onEscPress","classList","remove","removeEventListener","add","code","cardModal","footerModal"],"mappings":";AAAmB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAZ,MAAMA,EACXC,YAAYC,EAAW,GAAIC,EAAW,IAC/BC,KAAAA,KAAO,KAAKC,QAAQH,EAAUC,GAErCE,QAAQH,EAAUC,GACVC,MAAAA,EAAO,GAKNA,OAJPA,EAAKE,UAAYC,SAASC,cAAcN,GACxCE,EAAKD,SAAWI,SAASC,cAAcL,GACvCC,EAAKK,YAAcL,EAAKD,SAASK,cAAc,sBAExCJ,EAETM,cACON,KAAAA,KAAKE,UAAUK,iBAAiB,QAAS,KAAKC,UAAUC,KAAK,OAE7DT,KAAAA,KAAKK,YAAYE,iBAAiB,QAAS,KAAKG,WAAWD,KAAK,OAEhET,KAAAA,KAAKD,SAASQ,iBAAiB,QAAS,KAAKI,gBAAgBF,KAAK,OAEzED,UAAUI,GACRA,EAAEC,iBACFC,QAAQC,IAAIH,EAAEI,QAEVJ,EAAEI,SAAW,KAAKhB,KAAKE,YAE3Be,OAAOV,iBAAiB,UAAW,KAAKW,WAAWT,KAAK,OAEnDT,KAAAA,KAAKD,SAASoB,UAAUC,OAAO,oBAEtCV,aACEO,OAAOI,oBAAoB,UAAW,KAAKH,WAAWT,KAAK,OACtDT,KAAAA,KAAKD,SAASoB,UAAUG,IAAI,mBAEnCX,gBAAgBC,GACdA,EAAEI,SAAW,KAAKhB,KAAKD,UAAY,KAAKW,aAE1CQ,WAAWN,GACM,WAAXA,EAAEW,MACCb,KAAAA,cAtCQ,QAAA,MAAA;;ACKnB,aALA,IAAA,EAAA,QAAA,kBAEA,MAAMc,EAAY,IAAI5B,EAAJ,MAAU,WAAY,qBACxC4B,EAAUlB,cACV,MAAMmB,EAAc,IAAI7B,EAAJ,MAAU,0BAA2B,uBACzD6B,EAAYnB","file":"modal.a5c2dc8f.js","sourceRoot":"../src","sourcesContent":["export class Modal {\n  constructor(selector = {}, backdrop = {}) {\n    this.refs = this.getRefs(selector, backdrop);\n  }\n  getRefs(selector, backdrop) {\n    const refs = {};\n    refs.container = document.querySelector(selector);\n    refs.backdrop = document.querySelector(backdrop);\n    refs.closeButton = refs.backdrop.querySelector('[data-modal-close]');\n\n    return refs;\n  }\n  createModal() {\n    this.refs.container.addEventListener('click', this.openModal.bind(this));\n\n    this.refs.closeButton.addEventListener('click', this.closeModal.bind(this));\n\n    this.refs.backdrop.addEventListener('click', this.onBackdropClick.bind(this));\n  }\n  openModal(e) {\n    e.preventDefault();\n    console.log(e.target);\n\n    if (e.target === this.refs.container) return;\n\n    window.addEventListener('keydown', this.onEscPress.bind(this));\n\n    this.refs.backdrop.classList.remove('visually-hidden');\n  }\n  closeModal() {\n    window.removeEventListener('keydown', this.onEscPress.bind(this));\n    this.refs.backdrop.classList.add('visually-hidden');\n  }\n  onBackdropClick(e) {\n    e.target === this.refs.backdrop && this.closeModal();\n  }\n  onEscPress(e) {\n    if (e.code === 'Escape') {\n      this.closeModal();\n    }\n  }\n}\n","import { Modal } from './modal-plugin';\n\nconst cardModal = new Modal('.gallery', '[data-card-modal]');\ncardModal.createModal();\nconst footerModal = new Modal('.footer-modal-container', '[data-footer-modal]');\nfooterModal.createModal();\n"]}